<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#8B5CF6">
    <title>InfiniteWins - Calculateur de Surebets</title>
    <meta name="description" content="Calculateur gratuit de surebets pour optimiser vos paris sportifs">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>‚àû</text></svg>">
    <link rel="apple-touch-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>‚àû</text></svg>">
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        * { -webkit-tap-highlight-color: transparent; }
        body { overflow-x: hidden; margin: 0; }
        @keyframes slideDown { from { transform: translateY(-100%); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
        .slide-down { animation: slideDown 0.3s ease-out; }
        input[type="number"]::-webkit-inner-spin-button, input[type="number"]::-webkit-outer-spin-button { -webkit-appearance: none; margin: 0; }
        input[type="number"] { -moz-appearance: textfield; }
    </style>
</head>
<body>
    <div id="root"></div>
    <script type="text/babel">
        const { useState, useEffect } = React;
        const PAYPAL_LINKS = {
            cafe: "https://www.paypal.com/ncp/payment/XU7TZDRVUD4LW",
            pizza: "https://www.paypal.com/ncp/payment/CF5D5JVNTZUWY",
            burger: "https://www.paypal.com/ncp/payment/9F9KK6RBFWTXU",
            custom: "https://www.paypal.com/ncp/payment/2S5X2UUQZNZE2"
        };

        function InfiniteWinsApp() {
            const [cote1, setCote1] = useState('');
            const [cote2, setCote2] = useState('');
            const [budget, setBudget] = useState('');
            const [result, setResult] = useState(null);
            const [showDonationModal, setShowDonationModal] = useState(false);
            const [showRoadmapModal, setShowRoadmapModal] = useState(false);
            const [notification, setNotification] = useState(null);
            const [stats, setStats] = useState({ totalCalculs: 0, surebetsFound: 0 });
            const [isCalculating, setIsCalculating] = useState(false);

            useEffect(() => {
                const savedCote1 = localStorage.getItem('infinitewins_cote1');
                const savedCote2 = localStorage.getItem('infinitewins_cote2');
                const savedBudget = localStorage.getItem('infinitewins_budget');
                const savedStats = localStorage.getItem('infinitewins_stats');
                if (savedCote1) setCote1(savedCote1);
                if (savedCote2) setCote2(savedCote2);
                if (savedBudget) setBudget(savedBudget);
                if (savedStats) setStats(JSON.parse(savedStats));
            }, []);

            useEffect(() => { if (cote1) localStorage.setItem('infinitewins_cote1', cote1); }, [cote1]);
            useEffect(() => { if (cote2) localStorage.setItem('infinitewins_cote2', cote2); }, [cote2]);
            useEffect(() => { if (budget) localStorage.setItem('infinitewins_budget', budget); }, [budget]);
            useEffect(() => { localStorage.setItem('infinitewins_stats', JSON.stringify(stats)); }, [stats]);

            const showNotification = (message, type) => {
                setNotification({ message, type });
                setTimeout(() => setNotification(null), 3500);
            };

            const calculate = () => {
                const c1 = parseFloat(cote1);
                const c2 = parseFloat(cote2);
                const b = parseFloat(budget);
                if (!c1 || !c2 || !b || c1 <= 1 || c2 <= 1 || b <= 0) {
                    showNotification('‚ö†Ô∏è Valeurs invalides', 'error');
                    return;
                }
                setIsCalculating(true);
                setTimeout(() => {
                    const inverseSum = (1/c1) + (1/c2);
                    const mise1 = (b / inverseSum) * (1/c1);
                    const mise2 = (b / inverseSum) * (1/c2);
                    const gain1 = mise1 * c1;
                    const gain2 = mise2 * c2;
                    const profit = gain1 - b;
                    const profitPercent = (profit / b) * 100;
                    const isSurebet = inverseSum < 1;
                    setResult({
                        mise1: mise1.toFixed(2), mise2: mise2.toFixed(2),
                        gain1: gain1.toFixed(2), gain2: gain2.toFixed(2),
                        profit: profit.toFixed(2), profitPercent: profitPercent.toFixed(2),
                        isSurebet
                    });
                    setStats(prev => ({
                        totalCalculs: prev.totalCalculs + 1,
                        surebetsFound: prev.surebetsFound + (isSurebet ? 1 : 0)
                    }));
                    if (isSurebet) {
                        showNotification(`‚úÖ Surebet ! +${profit.toFixed(2)}‚Ç¨ (${profitPercent.toFixed(1)}%)`, 'success');
                    } else {
                        showNotification('‚ùå Pas de surebet', 'warning');
                    }
                    setIsCalculating(false);
                }, 300);
            };

            const clearAll = () => {
                setCote1(''); setCote2(''); setBudget(''); setResult(null);
                showNotification('üóëÔ∏è Formulaire effac√©', 'warning');
            };

            return (
                <div className="min-h-screen bg-gradient-to-br from-indigo-600 via-purple-600 to-pink-500 pb-4">
                    {notification && (
                        <div className={`fixed top-2 left-2 right-2 z-50 px-4 py-3 rounded-2xl shadow-2xl slide-down ${
                            notification.type === 'success' ? 'bg-green-500' :
                            notification.type === 'error' ? 'bg-red-500' : 'bg-orange-500'
                        } text-white font-bold text-center text-sm`}>{notification.message}</div>
                    )}
                    <div className="max-w-lg mx-auto px-3 pt-3">
                        <div className="bg-white bg-opacity-10 backdrop-blur-lg rounded-3xl p-4 mb-3 text-white shadow-2xl">
                            <div className="flex items-center justify-between mb-3">
                                <div className="flex items-center gap-2">
                                    <div className="text-4xl">‚àû</div>
                                    <div>
                                        <h1 className="text-2xl font-bold leading-tight">InfiniteWins</h1>
                                        <p className="text-xs opacity-80">Calculateur de surebets</p>
                                    </div>
                                </div>
                                <button onClick={() => setShowDonationModal(true)}
                                    className="bg-gradient-to-r from-yellow-400 to-orange-500 px-5 py-2.5 rounded-full font-bold text-sm shadow-lg">
                                    ‚òï Don
                                </button>
                            </div>
                            <div className="flex items-center justify-between bg-white bg-opacity-10 rounded-xl px-3 py-2 text-xs">
                                <div className="flex items-center gap-4">
                                    <span>üìä {stats.totalCalculs} calculs</span>
                                    <span>‚úÖ {stats.surebetsFound} surebets</span>
                                </div>
                                <button onClick={() => setShowRoadmapModal(true)} className="underline opacity-80">Roadmap</button>
                            </div>
                        </div>

                        <!-- reste du code inchang√© -->

                        <p className="text-center mt-4 text-white text-xs opacity-70">Made with ‚ù§Ô∏è by InfiniteWins</p>

                        {showDonationModal && (
                            <!-- modal dons inchang√© -->
                        )}

                        {showRoadmapModal && (
                            <!-- modal roadmap inchang√© -->
                        )}
                    </div>
                </div>
            );
        }
        ReactDOM.render(<InfiniteWinsApp />, document.getElementById('root'));
    </script>
</body>
</html>
